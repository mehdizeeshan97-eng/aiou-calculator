<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AIOU Result Calculator</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f8fdf8;
      padding: 20px;
    }
    .container {
      max-width: 900px;
      margin: auto;
      background: white;
      padding: 20px;
      border: 3px solid green;
      box-shadow: 0 0 10px rgba(0,0,0,0.2);
    }
    h2 {
      text-align: center;
      color: green;
      margin-bottom: 20px;
    }
    label {
      font-weight: bold;
      margin-top: 10px;
      display: block;
    }
    input, select {
      padding: 8px;
      width: 100%;
      margin-top: 5px;
      margin-bottom: 15px;
    }
    button {
      background: green;
      color: white;
      padding: 10px 20px;
      border: none;
      cursor: pointer;
      font-size: 16px;
    }
    button:hover {
      background: darkgreen;
    }
    .result-card {
      border: 2px solid green;
      padding: 20px;
      margin-top: 20px;
      background: #fff;
    }
    .result-card h3 {
      text-align: center;
      color: green;
      margin-bottom: 15px;
      text-decoration: underline;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
      margin-bottom: 10px;
    }
    th, td {
      border: 1px solid green;
      padding: 8px;
      text-align: center;
    }
    th {
      background: #e6ffe6;
    }
    .final-row {
      background: #c6f7c6;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>Allama Iqbal Open University Islamabad</h2>

    <label for="class">Select Class:</label>
    <select id="class" onchange="toggleInputs()">
      <option value="">--Select--</option>
      <option value="matric">Matric / FA / BA</option>
      <option value="bs">BS / B.Ed / ADE / BBA</option>
    </select>

    <!-- Matric / FA / BA Inputs -->
    <div id="matricInputs" style="display:none;">
      <label for="assignSelect">Select Assignments:</label>
      <select id="assignSelect" onchange="generateAssignmentInputs()">
        <option value="">--Select--</option>
        <option value="2">2 Assignments</option>
        <option value="4">4 Assignments</option>
      </select>
      <div id="assignmentFields"></div>
      <label>Paper Marks (out of 100):</label>
      <input type="number" id="matricPaper" min="0" max="100">
    </div>

    <!-- BS / B.Ed / ADE / BBA Inputs -->
    <div id="bsInputs" style="display:none;">
      <label>Assignment 1 Marks:</label>
      <input type="number" id="bsAssign1" min="0" max="100">
      <label>Assignment 2 Marks:</label>
      <input type="number" id="bsAssign2" min="0" max="100">
      <label>Quiz Marks (out of 30):</label>
      <input type="number" id="bsQuiz" min="0" max="30">
      <label>Paper Marks (out of 100):</label>
      <input type="number" id="bsPaper" min="0" max="100">
    </div>

    <button onclick="calculateResult()">Calculate Result</button>

    <!-- Result Card -->
    <div id="resultCard" class="result-card" style="display:none;">
      <h3>Result Card</h3>
      <div id="resultDetails"></div>
    </div>
  </div>

  <script>
    function toggleInputs() {
      const selectedClass = document.getElementById("class").value;
      document.getElementById("matricInputs").style.display = "none";
      document.getElementById("bsInputs").style.display = "none";
      if (selectedClass === "matric") {
        document.getElementById("matricInputs").style.display = "block";
      } else if (selectedClass === "bs") {
        document.getElementById("bsInputs").style.display = "block";
      }
    }

    function generateAssignmentInputs() {
      const count = document.getElementById("assignSelect").value;
      const container = document.getElementById("assignmentFields");
      container.innerHTML = "";
      for (let i = 1; i <= count; i++) {
        container.innerHTML += `<label>Assignment ${i} Marks:</label><input type="number" id="matricAssign${i}" min="0" max="100">`;
      }
    }

    function calculateResult() {
      const selectedClass = document.getElementById("class").value;
      let tableHTML = "";

      if (selectedClass === "matric") {
        const assignCount = document.getElementById("assignSelect").value;
        let assignTotal = 0;
        for (let i = 1; i <= assignCount; i++) {
          assignTotal += parseFloat(document.getElementById("matricAssign" + i).value) || 0;
        }
        let assignAvg = assignTotal / assignCount;
        let assignWeighted = assignAvg * 0.30;
        let assignPercent = 30;

        let paper = parseFloat(document.getElementById("matricPaper").value) || 0;
        let paperWeighted = paper * 0.70;
        let paperPercent = 70;

        let finalResult = assignWeighted + paperWeighted;

        tableHTML = `
          <table>
            <tr><th>Component</th><th>Marks</th><th>% Weight</th><th>Weighted</th></tr>
            <tr><td>Assignments Avg</td><td>${assignAvg.toFixed(2)}</td><td>${assignPercent}%</td><td>${assignWeighted.toFixed(2)}</td></tr>
            <tr><td>Paper</td><td>${paper}</td><td>${paperPercent}%</td><td>${paperWeighted.toFixed(2)}</td></tr>
            <tr class="final-row"><th colspan="3">Final Result</th><th>${finalResult.toFixed(2)}</th></tr>
          </table>
        `;
      }

      else if (selectedClass === "bs") {
        let assign1 = parseFloat(document.getElementById("bsAssign1").value) || 0;
        let assign2 = parseFloat(document.getElementById("bsAssign2").value) || 0;
        let assignAvg = (assign1 + assign2) / 2;
        let assignWeighted = assignAvg * 0.20;
        let assignPercent = 20;

        let quiz = parseFloat(document.getElementById("bsQuiz").value) || 0;
        let quizWeighted = (quiz / 30) * 30 * 0.30; 
        let quizPercent = 30;

        let paper = parseFloat(document.getElementById("bsPaper").value) || 0;
        let paperWeighted = paper * 0.50;
        let paperPercent = 50;

        let finalResult = assignWeighted + quizWeighted + paperWeighted;

        tableHTML = `
          <table>
            <tr><th>Component</th><th>Marks</th><th>% Weight</th><th>Weighted</th></tr>
            <tr><td>Assignments Avg</td><td>${assignAvg.toFixed(2)}</td><td>${assignPercent}%</td><td>${assignWeighted.toFixed(2)}</td></tr>
            <tr><td>Quiz (out of 30)</td><td>${quiz}</td><td>${quizPercent}%</td><td>${quizWeighted.toFixed(2)}</td></tr>
            <tr><td>Paper</td><td>${paper}</td><td>${paperPercent}%</td><td>${paperWeighted.toFixed(2)}</td></tr>
            <tr class="final-row"><th colspan="3">Final Result</th><th>${finalResult.toFixed(2)}</th></tr>
          </table>
        `;
      }

      document.getElementById("resultDetails").innerHTML = tableHTML;
      document.getElementById("resultCard").style.display = "block";
    }
  </script>
</body>
</html>
